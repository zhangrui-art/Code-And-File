<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="text/javascript">
        /*创建一个构造函数,专门用来创建Person对象的
         *构造函数就是一个普通的函数，创建方式和普通函数没有区别，
         *不同的是构造函数习惯上首字母大写
         *
         *构造函数和普通函数的区别就是调用方式的不同
         *普通函数就是直接调用，而构造杉树需要使用new关键字来调用
         *使用
         * 构造函数的执行流程：（固定）
         *  1. 立刻创建一个新的对象
         *  2. 将新建的对象设置为函数中的this,在构造函数中可以使用this来引用新建的对象
         *  3. 逐行执行函数中的代码
         *  4. 将新建的对象作为返回值返回
         */


        function Person() {
            this.name = "孙悟空";
            this.age = "19";
            this.gender = "男";
            this.sayHello = function() {
                console.log(this.name);
            }
        }
        var per = new Person();
        console.log(per);

        /*
         * 改造版
         */
        function Person(name, age, gender) {
            this.name = name;
            this.age = age;
            this.gender = gender;
            this.sayHello = function() {
                console.log(this.name);
            }
        }
        var per1 = new Person("baga", 18, "male");
        var per2 = new Person("yarou", 20, "female");
        per1.sayHello();
        per2.sayHello();
        /* 
         *  使用instanceof 可以检查一个对象是否是一个类的实例
         * 语法：
         *      对象 instanceof 构造函数
         */
        console.log(per1 instanceof Person);

        /*
         * 对构造函数里的函数改造版
         */
        function Person(name, age, gender) {
            this.name = name;
            this.age = age;
            this.gender = gender;
            this.sayHello = fun;
        }
        /*
         * 这样写虽然方便了许多，但是将函数定义在全局作用域里，污染了全局作用域的命名空间
         * 而且定义在全局作用域中也很不安全，容易被覆盖
         */
        function fun() {
            console.log(this.name);
        }
        var per1 = new Person("baga", 18, "male");
        var per2 = new Person("yarou", 20, "female");
        per1.sayHello();
        per2.sayHello();
    </script>
</head>

<body>

</body>

</html>